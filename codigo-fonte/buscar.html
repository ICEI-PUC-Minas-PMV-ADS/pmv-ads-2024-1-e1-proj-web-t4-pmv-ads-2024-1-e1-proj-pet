<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="images/favicon.png" type="image/x-icon" />
    <title>Pet in a Flat</title>
    <link rel="stylesheet" href="css/lib/bootstrap.min.css" />
    <link rel="stylesheet" href="css/common.css" />
    <link rel="stylesheet" href="css/buscar.css" />
  </head>
  <body>
    <header>
      <nav class="container">
        <a href="index.html">
          <img src="images/logoheader.png" alt="Logo" />
        </a>
        <div class="header-links">
          <div class="links-container">
            <a href="index.html" target="_self">Home</a>
          </div>
          <div class="links-container">
            <a href="buscar.html" target="_self">Busca</a>
          </div>
          <div id="register-container" class="links-container">
            <a id="register-link" href="cadastro.html" target="_self"
              >Cadastro</a
            >
          </div>
          <div id="login-container" class="links-container">
            <a id="login-link" href="login.html" target="_self">Login</a>
          </div>
          <div class="links-container">
            <a href="sobre.html" target="_self">Sobre</a>
          </div>
          <div class="icon-profile">
            <button id="btn-dropdown">
              <img id="header-profile-pic" src="" />
            </button>
            <div id="dropdown" class="dropdown-content">
              <a href="perfil.html">Perfil</a>
              <a id="logout" href="#">Logout</a>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main>
      <form id="buscaForm" class="form">
        <div class="content-form container">
          <div class="fields">
            <div class="row">
              <div class="col col-md-4">
                <input
                  id="localizacao"
                  type="text"
                  class="form-control"
                  placeholder="Localização"
                  aria-label="Localização"
                />
              </div>
              <div class="col col-md-4">
                <input
                  id="dataDisponibilidadeInicio"
                  type="date"
                  class="form-control"
                  placeholder="Data de início"
                  aria-label="Data de início"
                />
              </div>
              <div class="col col-md-4">
                <input
                  id="dataDisponibilidadeTermino"
                  type="date"
                  class="form-control"
                  placeholder="Data do término"
                  aria-label="Data do término"
                />
              </div>
            </div>
          </div>
          <button type="submit" class="form-button">Buscar</button>
        </div>
      </form>
      <div class="global-section container">
        <section>
          <div>
            <div id="services">
              <div class="service-option">
                <p>
                  <span
                    ><img src="images/iconetempet.png" alt="Ícone tem/teve pet"
                  /></span>
                  Tem/teve algum pet
                </p>
                <input
                  class="checkbox-group"
                  type="checkbox"
                  name="habilidades[]"
                  value="tutor"
                />
              </div>
              <div class="service-option">
                <p>
                  <span
                    ><img
                      src="images/iconeremedios.png"
                      alt="Ícone administra medicamentos"
                  /></span>
                  Administra medicamentos
                </p>
                <input
                  class="checkbox-group"
                  type="checkbox"
                  name="habilidades[]"
                  value="medicamentos"
                />
              </div>
              <div class="service-option">
                <p>
                  <span
                    ><img
                      src="images/iconeinjecao.png"
                      alt="Ícone aplica injeções"
                  /></span>
                  Aplica injeções
                </p>
                <input
                  class="checkbox-group"
                  type="checkbox"
                  name="habilidades[]"
                  value="injecoes"
                />
              </div>
              <div class="service-option">
                <p>
                  <span
                    ><img
                      src="images/iconefavoritopreto.png"
                      alt="Ícone aplica injeções"
                  /></span>
                  Favorito
                </p>
                <input
                  class="checkbox-group"
                  type="checkbox"
                  name="habilidades[]"
                  value="favorito"
                />
              </div>
            </div>
          </div>
          <div id="map" class="h-50"></div>
        </section>
        <section id="resultados"></section>
      </div>
    </main>
    <footer>
      <div class="footer-wrapper">
        <p>© Copyright 2024 Pet in a Flat</p>
        <div class="footer-social">
          <h3>Sigam-nos em nossa redes sociais</h3>
          <div class="footer-links">
            <a href="#">
              <img src="images/facebook.png" alt="Logo Facebook" />
            </a>
            <a href="#">
              <img src="images/instagram.png" alt="Logo Instagram" />
            </a>
          </div>
        </div>
      </div>
    </footer>
    <script src="db/pet_sitters.js"></script>
    <script src="js/busca.js"></script>
    <script src="js/header.js"></script>
    <!-- prettier-ignore -->
    <script>(g=>{var h,a,k,p="The Google Maps JavaScript API",c="google",l="importLibrary",q="__ib__",m=document,b=window;b=b[c]||(b[c]={});var d=b.maps||(b.maps={}),r=new Set,e=new URLSearchParams,u=()=>h||(h=new Promise(async(f,n)=>{await (a=m.createElement("script"));e.set("libraries",[...r]+"");for(k in g)e.set(k.replace(/[A-Z]/g,t=>"_"+t[0].toLowerCase()),g[k]);e.set("callback",c+".maps."+q);a.src=`https://maps.${c}apis.com/maps/api/js?`+e;d[q]=f;a.onerror=()=>h=n(Error(p+" could not load."));a.nonce=m.querySelector("script[nonce]")?.nonce||"";m.head.append(a)}));d[l]?console.warn(p+" only loads once. Ignoring:",g):d[l]=(f,...n)=>r.add(f)&&u().then(()=>d[l](f,...n))})
        ({key: "AIzaSyAEklTcPkW2JY9N-vbAVX7_KGOaLtGE3n0", v: "weekly"});</script>
    <script>
      (() => {
        const buscaController = new BuscaController();

        const form = document.getElementById("buscaForm");
        const habilidadesCheckboxes =
          document.querySelectorAll(".checkbox-group");

        buscaController.carregarPagina();

        form.addEventListener("submit", (event) => {
          event.preventDefault();
          buscaController.submit();
        });

        habilidadesCheckboxes.forEach((checkbox) => {
          checkbox.addEventListener("change", (event) => {
            event.preventDefault();
            buscaController.submit();
          });
        });
      })(this);
    </script>
  </body>
</html>
